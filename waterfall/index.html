<!DOCTYPE html>
<html>
<head>
	<title>test</title>
</head>
<link rel="stylesheet" type="text/css" href="autofadein.css">
<style type="text/css">
	.group{
		width:184px;
		position: relative;
		float: left;
	}
	.imgpanel img{
		position: relative;
		float:left;
		width:160px;
		margin: 2px; 
		padding: 10px;
		background-color: #eeeeee;
		border: solid 1px #dedede;
		-moz-border-radius: 15px;
		-webkit-border-radius: 15px;
	}
</style>
<body>
	<div id="container" style="margin:0 auto; width:800px">
		<div class="group"></div>
		<div class="group"></div>
		<div class="group"></div>
		<div class="group"></div>
	</div>
	<script type="text/javascript" src="autofadein.js"></script>
	<script type="text/javascript">
		function Rand(Min, Max) {
            var Range = Max - Min;
            var Rand = Math.random();
            return (Min + Math.round(Rand * Range));
        }

		//瀑布流
		function waterfall(){
			var container = document.getElementById("container");
			var groups = document.getElementsByClassName("group");
			var length = groups.length;
			var min;

			for(var i=0;i<30;i++){
				var div = document.createElement("div");
				div.setAttribute('class','imgpanel fade');
				var img = new Image(); 
       			img.src = "images/"+ Rand(1,17) +".jpg";
				div.appendChild(img);

       			min = groups[0];
       			for(var j=1;j<length;j++){
       				if(groups[j].offsetHeight < min.offsetHeight){
       					min = groups[j];
       				}
       			}

				min.appendChild(div);
			}
		}

		waterfall();
		//渐入
		document.getElementsByClassName('fade').AutoFadeIn(true);
	</script>
</body>
</html>